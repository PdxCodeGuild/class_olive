<!DOCTYPE html>
<html lang="en">
    {% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Rest App</title>
</head>
<body>
    {% csrf_token %}
<div id="app">
    
    <div class="flex flex-col items-center border-b h-[5rem]">
        <h1>[[message]] [[this.currentUser.username]]!</h1>
        <div>
            {% if user.is_authenticated == False %}
                <a href="{% url 'login' %}" class="p-1">Login</a>
                <a href="{% url 'signup' %}" class="p-1">Sign up</a>
            {% endif %}
            {% if user.is_authenticated %}
                <a href="{% url 'profile' user.username%}" class="p-1">Profile</a>
                <a href="{% url 'logout' %}" class="p-1">Logout</a>
            {% endif %}
        </div>
    </div>
    <div v-for="film in movie" class="flex items-center flex-col">
        <p>[[film.title]] [[film.director_detail.username]] [[film.genre]]</p>
    </div>
    <br>
    <div class="flex items-center flex-col">
        <input type="text" placeholder="Title" v-model="newMovie.title" class="border w-[10rem]">
        {% comment %} <input type="text" placeholder="Director" v-model="newMovie.director" class="border w-[10rem]"> {% endcomment %}
        <input type="text" placeholder="Genre" v-model="newMovie.genre" class="border w-[10rem]">
        <button @click="createMovie">Submit</button>
    </div>



</div>


<!-- Import Ajax -->
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

<!-- Import Vue.js -->
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

<!-- Import file.js -->
<script src="{% static '/app.js' %}"></script> 

<!-- Mount App -->
<script> const mountApp = app.mount('#app') </script>


</body>
</html>